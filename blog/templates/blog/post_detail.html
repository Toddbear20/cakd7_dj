{% extends 'blog/base.html' %}

{% block head_title %} {{post.title}} -Blog {% endblock %}
{% block main_area %}

        {% if post.head_image %}
                <img class='img-fluid rounded' src='{{ post.head_image.url }}' alt='{{ post }} head image'>
        {%else%}
                <img class='img-fluid rounded' src='https://picsum.photos/seed/{{post.id}}/800/200' alt='random_image'>
        {% endif %}
        <section class = 'text-white'>
          {%if user.is_authenticated and user == post.author%}
              <a class="btn btn-info btn-sm float-right" href="/blog/update_post/{{post.pk}}/" role="button"><i class="fas fa-pen"></i> Edit post</a>
          {%endif%}
          {%if post.category%}
            <span class="badge badge-secondary float-right">{{post.category}}</span>
          {%else%}
            <span class="badge badge-secondary float-right">미분류</span>
          {%endif%}
          <h1>{{post.title}}</h1>
          <p class='lead'>by
            <a href='#'>{{post.author | upper}}</a>
          </p>
          <h5 class="text-muted">{{post.hook_text}}</h5>
          <h4>{{post.created_at}}</h4>
          <p>{{post.get_content_markdown | safe}}</p>

          {%if post.tags.exists %}
          <i class="fas fa-tags"></i>
          {%for tag in post.tags.iterator%}
            <a href="{{tag.get_absolute_url}}"><span class="badge badge-pill badge-light">{{ tag }}</span></a>
          {%endfor%}
          <br/>
          <br/>
        {%endif%}
        </section>

        {% if post.file_upload %}
         <href="{{ post.file_upload.url }}" class="btn btn-outline-primary" role="button"download>
          Download:
          {% if post.get_file_ext == 'csv' %}
          <i class="fas fa-file-csv"></i>
          {% elif post.get_file_ext == 'xlsx' or post.get_file_ext == 'xls' %}
          <i class="fas fa-file-excel"></i>
          {% elif post.get_file_ext == 'docx' or post.get_file_ext == 'doc' %}
          <i class="fas fa-file-word"></i>
          {% else %}
          <i class="for fa-file"></i>
          {% endif %}
          {{post.get_file_name}}
         </a>
        {% endif %}
{% endblock %}